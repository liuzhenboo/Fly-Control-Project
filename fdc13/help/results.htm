<HTML>
<HEAD>
<TITLE>FDC help: Utility RESULTS</TITLE>
</HEAD>
<BODY BGCOLOR="#DED6D3" TEXT="#000000" LINK="#660033" VLINK="#660033" ALINK="#000080">
<H2>Processing simulation results with the macro <I><FONT FACE="Arial","Helvetica","Sans Serif">RESULTS</FONT></I></H2>

<I><FONT SIZE=2 FACE="Arial","Helvetica","Sans Serif">RESULTS</FONT></I> is a M<SMALL>ATLAB</SMALL> macro, wich creates time-trajectories of individual inputs to and outputs from the S<SMALL>IMULINK</SMALL> system <I><FONT SIZE=2 FACE="Arial","Helvetica","Sans Serif"><A HREF="beaver.htm">Beaver</A></FONT></I>. <I><FONT SIZE=2 FACE="Arial","Helvetica","Sans Serif">RESULTS</FONT></I> should be used after running a simulation in which the system <I><FONT SIZE=2 FACE="Arial","Helvetica","Sans Serif">Beaver</FONT></I> is involved. During simulations, the time-trajectories of all inputvariables are send to the matrix <I>In</I> and all time-trajectories of the outputvariables are send to to the matrix <I>Out</I> in the M<SMALL>ATLAB</SMALL> workspace. <I><FONT SIZE=2 FACE="Arial","Helvetica","Sans Serif">RESULTS</FONT></I> transforms these results into time-trajectories of individual input and output signals with self-explaining variable names. So  in order to produce a time-trajectory of the elevator deflection (for instance), in stead of typing <CODE>plot(time,In(:,1))</CODE>, you can run <I><FONT SIZE=2 FACE="Arial","Helvetica","Sans Serif">RESULTS</FONT></I> and then type <CODE>plot(time,deltae)</CODE>. You can also run <I><FONT SIZE=2 FACE="Arial","Helvetica","Sans Serif">RESULTS</FONT></I> first and then use the M<SMALL>ATLAB</SMALL> macro <I><FONT SIZE=2 FACE="Arial","Helvetica","Sans Serif"><A HREF="resplot.htm">RESPLOT</A></FONT></I> to show the most important time-trajectories on-screen.
<BR><BR>

The definitions of the matrices <I>In</I> and <I>Out</I> and the names of the variables which are extracted by <I><FONT SIZE=2 FACE="Arial","Helvetica","Sans Serif">RESULTS</FONT></I> are explained in more detail in the help-texts with <A HREF="inputs.htm">input</A> and <A HREF="outputs.htm">output</A> definitions for the system <I><FONT SIZE=2 FACE="Arial","Helvetica","Sans Serif">Beaver</FONT></I>.
<BR><BR>

It is not possible to apply <I><FONT SIZE=2 FACE="Arial","Helvetica","Sans Serif">RESULTS</FONT></I> to simulation results from other systems which do not use the same (default) definitions of the matrices <I>In</I> and <I>Out</I> as the system <I><FONT SIZE=2 FACE="Arial","Helvetica","Sans Serif">Beaver</FONT></I>. Therefore, if you wish to make changes to the lists of inputs and outputs, e.g. in order to implement a dynamic model of another aircraft, you <I>must</I> edit the source-file <SMALL>RESULTS.M</SMALL> accordingly! This file can be found in the FDC directory <SMALL>TOOLS</SMALL>. Apart from some options regarding the units of measurements of the variables that represent angles and/or angular velocities, the macro <I><FONT SIZE=2 FACE="Arial","Helvetica","Sans Serif">RESULTS</FONT></I> is very straightforward, so adapting this file for other applications is not very difficult. It is not very user-friendly either, so more flexible utilities for processing simulation results are planned for future versions of the toolbox.
<BR><BR>

<B>Note:</B> if the simulation covers many points in time, the matrices <I>In</I> and <I>Out</I> will become such large that you may encounter 'Out of Memory' errors when running <I><FONT SIZE=2 FACE="Arial","Helvetica","Sans Serif">RESULTS</FONT></I>. In that case, you may wish to reduce the number of inputs and outputs, stored in the M<SMALL>ATLAB</SMALL> workspace, thus reducing the size of the matrices <I>In</I> and/or <I>Out</I>. In that case you also need to delete the corresponding lines from the file <I><FONT SIZE=2 FACE="Arial","Helvetica","Sans Serif">RESULTS</FONT></I> if you still want to extract time-trajectories of individual inputs and/or outputs. 'Out of Memory' errors can, for instance, occur when simulating aircraft responses to atmospheric turbulence, or responses of the aircraft to control commands coming from a digital controller with a small sample-time.
<BR><BR>

Unfortunately, S<SMALL>IMULINK</SMALL> does not always correctly send the simulation results to the workspace, which seems to have something to do with the use of <I><FONT SIZE=2 FACE="Arial","Helvetica","Sans Serif">To Workspace</FONT></I> blocks in the deeper levels of the system. Hopefully, this small bug will be fixed soon in newer versions of S<SMALL>IMULINK</SMALL> (the problem was encountered in several versions up to version 1.2 for Windows). <I><FONT SIZE=2 FACE="Arial","Helvetica","Sans Serif">RESULTS</FONT></I> will check whether or not the matrices <I>In</I> and <I>Out</I> are present in the workspace before it extracts the individual inputs and outputs. If the matrices can't be found, <I><FONT SIZE=2 FACE="Arial","Helvetica","Sans Serif">RESULTS</FONT></I> first tries to 'rescue' these 'disappeared' variables by calling the utility <I><FONT SIZE=2 FACE="Arial","Helvetica","Sans Serif"><A HREF="recover.htm">RECOVER</A></FONT></I>, assuming that your aircraft model is called <I><FONT SIZE=2 FACE="Arial","Helvetica","Sans Serif">Beaver</FONT></I>. If the matrices <I>In</I> and <I>Out</I> can not be retrieved, you have to do the simulation again. Take care not to mistake old simulation results for new ones!
<BR><BR>

<I><FONT SIZE=2 FACE="Arial","Helvetica","Sans Serif">RESULTS</FONT></I> does not contain a 'save' option, so remember to save the resulting time-trajectories yourself if you want to use them later. Don't forget to store the time-axis <I>time</I> as well; otherwise you won't be able to plot the time-trajectories of the variables.

</BODY>

</HTML>
